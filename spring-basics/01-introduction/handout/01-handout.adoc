= Core-Spring Grundlagen
:author: Kacper Bak und Christian Böhme
:imagesdir: ../../../images

== Agenda

* Spring Grundlagen - Kacper
** Was ist Spring ?
** Was ist Dependency Injection (DI) ?
** Bean- und Container-Grundlagen
** DI mittels XML
** Autowiring mittels XML
** DI mittels Annotationen
** Component Scanning

* Spring Anwendung - Christian

== Quellen

* Offizielle Präsenz - http://spring.io/
* Wir behandlen hier die Version *3.2.6.RELEASE*, bietet Kompatibilität bis Java 7
* Doku - http://docs.spring.io/spring/docs/3.2.6.RELEASE/spring-framework-reference/htmlsingle/
* API - http://docs.spring.io/spring/docs/3.2.6.RELEASE/javadoc-api/
* Spring im Einsatz / Spring in Action http://www.amazon.de/

== Was ist Spring ?

* Leichtgewichtiges Java Framework welches die Entwicklung mit JEE vereinfacht.
* *Open source* Framework mit *kommerziellen Support* - http://www.gopivotal.com
* Spring bietet mit einem breiten Spektrum an Funktionalität eine ganzheitliche Lösung zur Entwicklung von Anwendungen und deren Geschäftslogiken.
* Kompatibel zu allen Java JEE Anwendungs Servern, als auch eigenständig betreibbar.

== Spring Überblick

image::spring-overview.png[spring-overview, align="center"]

== Wie geschieht das?

* Stellt eine infrastruktur bereit um JEE Anwendungen zu entwickeln.
* Spring entkoppelt Komponenten (*POJO* welches Interface implementiert) und erhöht damit die Wartbarkeit des Codes.
* Spring verwaltet das Zusammenstecken von Komponenten - *Dependency Injection*.
* Die Komponenten kümmern sich *nicht* darum,  *WIE* sie Ihre Abhängigkeiten bekommen.
* Komponenten können *jederzeit ausgetauscht* werden.

.Folge
* Der Entwickler kann sich auf den *Anwendungsfall* konzentriren.

////
* Komponenten sind in dem Fall POJO's, welche durch Interfaces entkoppelt sind  (Design to Interface).
////

== Was ist Dependency Injection ?

Dependency injection is a software design pattern in which one or more dependencies (or services) are injected, or passed by reference, into a dependent object (or client) and are made part of the client's state. The pattern separates the *creation* of a client's dependencies from its own *behavior*, which allows program designs to be *loosely coupled* and to follow the dependency inversion and single responsibility principles - http://en.wikipedia.org/wiki/Dependency_Injection

== Scenario 1

* Als Domain-Objekte wird eine formattierte Zeitausgabe verwendet, welche unterschiedliche Datums-Implementierungen verwenden.

image::01-introduction-002.png[01-introduction-002.png, align="center"]

* Eine Komponennte implmentiert ein Interface.
* Die Applikation verwendet die Implementierung über das Interface.

image::01-introduction-001.png[01-introduction-001.png, align="center"]

.Anforderungen:
* Die Implementierung soll dabei mit geringstem Aufwand flexibel//austauschbar sein.
* Der Business-Case, der Call +utilService.displayBooking()+,  soll nicht beeinflusst werden.

++++
<script src="https://gist.github.com/KacperBak/d250faa391c9738c0ac3.js"></script>
++++


.Möglichkeiten
* Ein Austausch von +UtilDateImpl+  zu +JodaTimeImpl+ in der Komponente +BookingServiceImpl+
* Das Überschreiben von +displayBooking()+ direkt in der +main()+

.Folgen
* In beiden Fällen muss der Code angepasst werden.
* Es besteht eine _harte_ Kopplung zwischen +UtilDateImpl+ und +BookingServiceImpl+.

== Scenario 2

* *Jeweils* eine *eigene* Implementierung von +BookingService+ für +JodaTimeImpl+ und +UtilDateImpl+
* Mittels OOP wird gemeinsamer Code in eine abstrakte Klasse +BookingServiceImpl+ verlagert. Keine Code Duplizierung.

image::01-introduction-003.png[01-introduction-003.png, align="center"]

* Eine Hook-Methode fetcht die entsprechende Sub-Klasse.
* In der +main()+ wird jeweils der benötigte Spezielisierung instanziert.

++++
<script src="https://gist.github.com/KacperBak/dfff51148751e723128c.js"></script>
++++


.Folge
* Das eigentliche Problem, Anpassung des Quellcodes wurde von der, +BookingServiceImpl+ in die Hauptklasse +Application+ verlagert.





== Bean Definition


